<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="./css/photon.min.css">
  <style media="screen">
    header {
      -webkit-app-region: drag; /* ドラッグ可能に */
      -webkit-user-select: none; /* ドラッグはテキスト選択と競合するので禁止 */
    }
  </style>
  <script src="https://www.gstatic.com/firebasejs/4.5.1/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.5.1/firebase-firestore.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/riot/3.0.0/riot+compiler.min.js"></script>
  <script src="https://cdn.jsdelivr.net/riot-route/3.0.1/route.min.js"></script>
</head>
<body>
  <div class="window">
    <header></header>
    <div class="window-content">
      <div class="pane-group">
        <div class="pane-sm sidebar">
          <sidebar></sidebar>
        </div>
        <div class="pane">
          <table-list></table-list>
        <div>
      </div>
    </div>
  </div>

  <script src="./tags/header.tag" type="riot/tag"></script>
  <script src="./tags/sidebar.tag" type="riot/tag"></script>
  <script src="./tags/table-list.tag" type="riot/tag"></script>
  <script>
    /***********************************************
    * Firebase Initialization
    ***********************************************/
    var config = {
      apiKey: "AIzaSyBKhIvS5oBGeiR7q_zLdAfTcT4-B3ags18",
      authDomain: "timeline-stg.firebaseapp.com",
      databaseURL: "https://timeline-stg.firebaseio.com",
      projectId: "timeline-stg"
    };
    firebase.initializeApp(config);
    var db = firebase.firestore();


    /***********************************************
    * Riot
    ***********************************************/
    riot.mount('header')
    riot.mount('sidebar')
    riot.mount('table-list')


/*
    var tbody = document.getElementsByTagName('tbody')[0];
    var trs = "";
    var docRef = db.collection("timelines").orderBy('updatedAt', 'desc')
    docRef.get().then(function(querySnapshot){
      var items = querySnapshot.docs;
      for(var i=0; i < items.length; i++) {
        var item = items[i].data();
        trs += "<tr><td>"+item.title+"</td><td>"+item.gid+"</td><td>"+item.createdAt+"</td></tr>";
      }
      tbody.innerHTML = trs;
    })
*/
  </script>
</body>
</html>
